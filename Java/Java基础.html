<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java | HZH BLOG</title>
    <meta name="description" content="我的博客">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.66d45a11.css" as="style"><link rel="preload" href="/assets/js/app.bd83f740.js" as="script"><link rel="preload" href="/assets/js/2.8f600e53.js" as="script"><link rel="preload" href="/assets/js/7.7f15afd9.js" as="script"><link rel="prefetch" href="/assets/js/10.1d310c99.js"><link rel="prefetch" href="/assets/js/11.f76918bf.js"><link rel="prefetch" href="/assets/js/12.f55c6a36.js"><link rel="prefetch" href="/assets/js/13.be8b846f.js"><link rel="prefetch" href="/assets/js/14.39795cc9.js"><link rel="prefetch" href="/assets/js/15.493fd799.js"><link rel="prefetch" href="/assets/js/16.8870c587.js"><link rel="prefetch" href="/assets/js/17.67e49c50.js"><link rel="prefetch" href="/assets/js/18.c17bbe7a.js"><link rel="prefetch" href="/assets/js/19.4c37f1fa.js"><link rel="prefetch" href="/assets/js/20.b4309ce1.js"><link rel="prefetch" href="/assets/js/21.025c2b93.js"><link rel="prefetch" href="/assets/js/3.83f27fa1.js"><link rel="prefetch" href="/assets/js/4.181f67ed.js"><link rel="prefetch" href="/assets/js/5.c6d93129.js"><link rel="prefetch" href="/assets/js/6.036b0968.js"><link rel="prefetch" href="/assets/js/8.28d0222e.js"><link rel="prefetch" href="/assets/js/9.0bebed08.js">
    <link rel="stylesheet" href="/assets/css/0.styles.66d45a11.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">HZH BLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习笔记" class="dropdown-title"><span class="title">学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/RelationalDatabase/" class="nav-link">
  关系型数据库
</a></li><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/NodeJs/" class="nav-link">
  NodeJs
</a></li><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">
  js
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/JayeHao?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习笔记" class="dropdown-title"><span class="title">学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/RelationalDatabase/" class="nav-link">
  关系型数据库
</a></li><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/NodeJs/" class="nav-link">
  NodeJs
</a></li><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">
  js
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/JayeHao?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#说一说java" class="sidebar-link">说一说Java</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#java-为什么是高效的-high-performance" class="sidebar-link">Java 为什么是高效的 ( High Performance )?</a></li><li class="sidebar-sub-header"><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#面向对象的特征有哪些方面？" class="sidebar-link">面向对象的特征有哪些方面？</a></li><li class="sidebar-sub-header"><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#jdk-jre-jvm" class="sidebar-link">JDK JRE JVM?</a></li><li class="sidebar-sub-header"><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#反射机制" class="sidebar-link">反射机制</a></li></ul></li><li><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#设计模式" class="sidebar-link">设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#单例模式" class="sidebar-link">单例模式</a></li></ul></li><li><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#异常" class="sidebar-link">异常</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#类的层次" class="sidebar-link">类的层次</a></li><li class="sidebar-sub-header"><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#java内置异常类" class="sidebar-link">Java内置异常类</a></li></ul></li><li><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#线程" class="sidebar-link">线程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Java%E5%9F%BA%E7%A1%80.html#synchronized关键字" class="sidebar-link">Synchronized关键字</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="java"><a href="#java" class="header-anchor">#</a> Java</h1> <h2 id="说一说java"><a href="#说一说java" class="header-anchor">#</a> 说一说Java</h2> <p>Sun 公司在 1995 创建
Java 的一些特点?</p> <ul><li>Object Oriented 面向对象</li> <li>Platform Independent 平台独立</li> <li>Interpreted 解释性语言</li> <li>Multi-threaded 多线程</li></ul> <p>但是 Java 最重要的特点是<strong>平台独立</strong></p> <p>平台独立意味着我们可以在一个系统编译它然后在另外一个系统使用它</p> <h4 id="编译型语言和解释型语言的定义"><a href="#编译型语言和解释型语言的定义" class="header-anchor">#</a> 编译型语言和解释型语言的定义:</h4> <ul><li><p>编译型语言：把做好的源程序全部编译成二进制代码的可运行程序。然后，可直接运行这个程序。</p></li> <li><p>解释型语言：把做好的源程序翻译一句，然后执行一句，直至结束！</p></li></ul> <p>PS：java是解释型的语言，因为虽然java也需要编译，编译成.class文件，但是并不是机器可以识别的语言，而是字节码，最终还是需要 jvm的解释，才能在各个平台执行，这同时也是java跨平台的原因。所以可是说java即是编译型的，也是解释型，但是假如非要归类的话，从概念上的定义，恐怕java应该归到解释型的语言中。</p> <h3 id="java-为什么是高效的-high-performance"><a href="#java-为什么是高效的-high-performance" class="header-anchor">#</a> Java 为什么是高效的 ( High Performance )?</h3> <ul><li>因为 Java 使用 Just-In-Time (即时) 编译器把java字节码直接转换成可以直接发送给处理器的指令的程序。</li></ul> <h3 id="面向对象的特征有哪些方面？"><a href="#面向对象的特征有哪些方面？" class="header-anchor">#</a> 面向对象的特征有哪些方面？</h3> <ul><li>封装</li></ul> <p>让变量和访问这个变量的方法放在一起，将一个类中的成员变量全部定义成私有的，只有这个类自己的方法才可以访问到这些成员变量</p> <ul><li>抽象</li></ul> <p>声明方法的存在而不去实现它的类被叫做抽象类</p> <ul><li>继承</li></ul> <p>继承是子类自动共享父类数据和方法的机制，这是类之间的一种关系，提高了软件的可重用性和可扩展性</p> <ul><li>多态</li></ul> <p>多态就是指一个变量, 一个方法或者一个对象可以有不同的形式.</p> <h3 id="jdk-jre-jvm"><a href="#jdk-jre-jvm" class="header-anchor">#</a> JDK JRE JVM?</h3> <ul><li>解释它们的区别</li></ul> <h4 id="jdk"><a href="#jdk" class="header-anchor">#</a> <em>JDK</em></h4> <p>Java Development Kit 用作开发, 包含了JRE, 编译器和其他的工具(比如: JavaDoc，Java调试器), 可以让开发者开发、编译、执行Java应用程序.</p> <h4 id="jre"><a href="#jre" class="header-anchor">#</a> <em>JRE</em></h4> <p>Java Runtime Environment java运行时环境，包含了java虚拟机，java基础类库。是使用java语言编写的程序运行所需要的软件环境，是提供给想运行java程序的用户使用的。</p> <h4 id="jvm"><a href="#jvm" class="header-anchor">#</a> <em>JVM</em></h4> <p>Java virtual machine (Java 虚拟机) 是一个可以执行 Java 编译产生的 Java class 文件 (bytecode) 的虚拟机进程, 是一个纯的运行环境.</p> <h3 id="反射机制"><a href="#反射机制" class="header-anchor">#</a> 反射机制</h3> <p>Java反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为java语言的放射机制。</p> <h4 id="主要作用"><a href="#主要作用" class="header-anchor">#</a> 主要作用</h4> <ul><li>运行时获取类的方法和字段相关信息</li> <li>创建某个类的新实例</li> <li>取得字段引用直接获取和设置对象字段，无论访问修饰符是什么</li></ul> <h2 id="设计模式"><a href="#设计模式" class="header-anchor">#</a> 设计模式</h2> <h3 id="单例模式"><a href="#单例模式" class="header-anchor">#</a> 单例模式</h3> <p>Java中单例模式定义：“一个类有且仅有一个实例，并且自行实例化向整个系统提供。”</p> <h4 id="懒汉式（线程不安全）"><a href="#懒汉式（线程不安全）" class="header-anchor">#</a> 懒汉式（线程不安全）</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    　　<span class="token keyword">return</span> instance<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>懒加载，这种写法在多线程环境不能正常工作</p> <h4 id="懒汉式（线程安全）"><a href="#懒汉式（线程安全）" class="header-anchor">#</a> 懒汉式（线程安全）</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span>  

    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
   　　 <span class="token keyword">return</span> instance<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>这种写法能够在多线程中很好的工作，也具有懒加载，但是，效率很低，99%情况下不需要同步。</p> <h4 id="饿汉式"><a href="#饿汉式" class="header-anchor">#</a> 饿汉式</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
   　　 <span class="token keyword">return</span> instance<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>这种方式基于classloder机制避免了多线程的同步问题，不过，instance在类装载时就实例化，虽然导致类装载的原因有很多种，在单例模式中大多数都是调用getInstance方法， 但是也不能确定有其他的方式（或者其他的静态方法）导致类装载，这时候初始化instance显然没有达到lazy loading的效果。</p> <h4 id="饿汉，变种"><a href="#饿汉，变种" class="header-anchor">#</a> 饿汉，变种</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  

    <span class="token keyword">static</span> <span class="token punctuation">{</span>  
    instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  

    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    　　<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="静态内部类"><a href="#静态内部类" class="header-anchor">#</a> 静态内部类</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">SingletonHolder</span> <span class="token punctuation">{</span>  

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Singleton</span> INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token punctuation">}</span>  

    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    　　<span class="token keyword">return</span> <span class="token class-name">SingletonHolder</span><span class="token punctuation">.</span>INSTANCE<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>这种方式同样利用了classloder的机制来保证初始化instance时只有一个线程，它跟饿汉和饿汉，变种方式不同的是（很细微的差别）：饿汉和饿汉，变种方式是只要Singleton类被装载了，那么instance就会被实例化（没有达到lazy loading效果），而这种方式是Singleton类被装载了，instance不一定被初始化。因为SingletonHolder类没有被主动使用，只有显示通过调用getInstance方法时，才会显示装载SingletonHolder类，从而实例化instance。想象一下，如果实例化instance很消耗资源，我想让他延迟加载，另外一方面，我不希望在Singleton类加载时就实例化，因为我不能确保Singleton类还可能在其他的地方被主动使用从而被加载，那么这个时候实例化instance显然是不合适的。这个时候，这种方式相比饿汉和饿汉，变种方式就显得很合理。</p> <h4 id="枚举"><a href="#枚举" class="header-anchor">#</a> 枚举</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    INSTANCE<span class="token punctuation">;</span>  
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">whateverMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  

    <span class="token punctuation">}</span>  

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>这种方式是Effective Java作者Josh Bloch 提倡的方式，它不仅能避免多线程同步问题，而且还能防止反序列化重新创建新的对象</p> <h4 id="双重校验锁"><a href="#双重校验锁" class="header-anchor">#</a> 双重校验锁</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> singleton<span class="token punctuation">;</span>  

    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
   　　 <span class="token keyword">if</span> <span class="token punctuation">(</span>singleton <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        　　　　<span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
       　　<span class="token keyword">if</span> <span class="token punctuation">(</span>singleton <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
            singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        　　<span class="token punctuation">}</span>  
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
    　　<span class="token keyword">return</span> singleton<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>在JDK1.5之后，双重检查锁定才能够正常达到单例效果。</p> <h2 id="异常"><a href="#异常" class="header-anchor">#</a> 异常</h2> <p><img src="data:image/jpeg;base64,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X/oNaz/4GH/Cj/hGV/6DWs/+Bh/wrcooAw/+EZX/AKDWs/8AgYf8KP8AhGV/6DWs/wDgYf8ACtyigDD/AOEZX/oNaz/4GH/Cj/hGV/6DWs/+Bh/wrcooAw/+EZX/AKDWs/8AgYf8KP8AhGV/6DWs/wDgYf8ACtyigDD/AOEZX/oNaz/4GH/Cj/hGV/6DWs/+Bh/wrcooAw/+EZX/AKDWs/8AgYf8KP8AhGV/6DWs/wDgYf8ACtyigDD/AOEZX/oNaz/4GH/Cj/hGV/6DWs/+Bh/wrcooAy9N0KDTbya7FzeXFxLGsRe5mMhCqSQB6csa1KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/2Q==" alt="异常树"></p> <h3 id="类的层次"><a href="#类的层次" class="header-anchor">#</a> 类的层次</h3> <ul><li>所有的异常类是从 java.lang.Exception 类继承的子类。</li> <li>Exception 类是 Throwable 类的子类。除了Exception类外，Throwable还有一个子类Error 。</li> <li>Java 程序通常不捕获错误。错误一般发生在严重故障时，它们在Java程序处理的范畴之外。</li> <li>Error 用来指示运行时环境发生的错误。</li></ul> <h3 id="java内置异常类"><a href="#java内置异常类" class="header-anchor">#</a> Java内置异常类</h3> <table><thead><tr><th>异常</th> <th>描述</th></tr></thead> <tbody><tr><td>ArithmeticException</td> <td>当出现异常的运算条件时，抛出此异常。例如，一个整数&quot;除以零&quot;时，抛出此类的一个实例。</td></tr> <tr><td>ArrayIndexOutOfBoundsException</td> <td>用非法索引访问数组时抛出的异常。如果索引为负或大于等于数组大小，则该索引为非法索引。</td></tr> <tr><td>ArrayStoreException</td> <td>试图将错误类型的对象存储到一个对象数组时抛出的异常。</td></tr> <tr><td>ClassCastException</td> <td>当试图将对象强制转换为不是实例的子类时，抛出该异常。</td></tr> <tr><td>IllegalArgumentException</td> <td>抛出的异常表明向方法传递了一个不合法或不正确的参数。</td></tr> <tr><td>IllegalMonitorStateException</td> <td>抛出的异常表明某一线程已经试图等待对象的监视器，或者试图通知其他正在等待对象的监视器而本身没有指定监视器的线程。</td></tr> <tr><td>IllegalStateException</td> <td>在非法或不适当的时间调用方法时产生的信号。换句话说，即 Java 环境或 Java 应用程序没有处于请求操作所要求的适当状态下。</td></tr> <tr><td>IllegalThreadStateException</td> <td>线程没有处于请求操作所要求的适当状态时抛出的异常。</td></tr> <tr><td>IndexOutOfBoundsException</td> <td>指示某排序索引（例如对数组、字符串或向量的排序）超出范围时抛出。</td></tr> <tr><td>NegativeArraySizeException</td> <td>如果应用程序试图创建大小为负的数组，则抛出该异常。</td></tr> <tr><td>NullPointerException</td> <td>当应用程序试图在需要对象的地方使用 null 时，抛出该异常</td></tr> <tr><td>NumberFormatException</td> <td>当应用程序试图将字符串转换成一种数值类型，但该字符串不能转换为适当格式时，抛出该异常。</td></tr> <tr><td>SecurityException</td> <td>由安全管理器抛出的异常，指示存在安全侵犯。</td></tr> <tr><td>StringIndexOutOfBoundsException</td> <td>此异常由 String 方法抛出，指示索引或者为负，或者超出字符串的大小。</td></tr> <tr><td>UnsupportedOperationException</td> <td>当不支持请求的操作时，抛出该异常。</td></tr></tbody></table> <p>下面的表中列出了 Java 定义在 java.lang 包中的检查性异常类。</p> <table><thead><tr><th>异常</th> <th>描述</th></tr></thead> <tbody><tr><td>ClassNotFoundException</td> <td>应用程序试图加载类时，找不到相应的类，抛出该异常。</td></tr> <tr><td>CloneNotSupportedException</td> <td>当调用 Object 类中的 clone 方法克隆对象，但该对象的类无法实现 Cloneable 接口时，抛出该异常。</td></tr> <tr><td>IllegalAccessException</td> <td>拒绝访问一个类的时候，抛出该异常。</td></tr> <tr><td>InstantiationException</td> <td>当试图使用 Class 类中的 newInstance 方法创建一个类的实例，而指定的类对象因为是一个接口或是一个抽象类而无法实例化时，抛出该异常。</td></tr> <tr><td>InterruptedException</td> <td>一个线程被另一个线程中断，抛出该异常。</td></tr> <tr><td>NoSuchFieldException</td> <td>请求的变量不存在</td></tr> <tr><td>NoSuchMethodException</td> <td>请求的方法不存在</td></tr></tbody></table> <h2 id="线程"><a href="#线程" class="header-anchor">#</a> 线程</h2> <h3 id="synchronized关键字"><a href="#synchronized关键字" class="header-anchor">#</a> Synchronized关键字</h3> <h4 id="一句话说出synchronized的作用"><a href="#一句话说出synchronized的作用" class="header-anchor">#</a> 一句话说出Synchronized的作用</h4> <p>能够保证在<strong>同一时刻</strong>最多只有<strong>一个</strong>线程执行该段代码，以达到保证并发安全的效果</p> <h4 id="synchronized的两个用法"><a href="#synchronized的两个用法" class="header-anchor">#</a> Synchronized的两个用法</h4> <ul><li><p>对象锁</p> <p>包括<strong>方法锁</strong>（默认锁对象为this当前实例对象）和同步代码块锁（自己指定锁对象）</p></li> <li><p>类锁</p> <p>指Synchronized修饰<strong>静态</strong>的方法或指定锁为Class对象。</p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/15/2019, 4:45:17 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.bd83f740.js" defer></script><script src="/assets/js/2.8f600e53.js" defer></script><script src="/assets/js/7.7f15afd9.js" defer></script>
  </body>
</html>
